# SDLC Automation

## DevOps

DevOps is a cultural and operational framework that unifies development and operations teams to enhance collaboration, streamline workflows, and boost productivity. It emphasizes automation of infrastructure, workflows, and continuous performance monitoring to enable faster, more reliable software delivery. By breaking down silos, DevOps allows organizations to develop and enhance products more rapidly than traditional software development methodologies.

## Benefits of Automation

- **Speed**: Accelerates software and feature delivery timelines.
- **Rapid Delivery**: Supports frequent releases of new features and bug fixes to enhance products quickly.
- **Reliability**: Ensures consistent quality and stability in application updates and infrastructure changes.
- **Scale**: Enables management of infrastructure and development processes at large scale efficiently.
- **Improved Collaboration**: Fosters better communication and teamwork across departments.
- **Security**: Embeds security practices throughout the software development lifecycle (DevSecOps).

### Blue/Green Deployment

Blue/Green deployment minimizes downtime and risk by maintaining two identical production environments—blue (current) and green (new). Only one environment is live at a time, handling all production traffic, while the other is updated or tested.

#### Key Points

- **Zero Downtime**: Seamless deployments maintain application availability.
- **CNAME Swapping**: Traffic shifts to the new environment via DNS CNAME updates.
- **Route53 Integration**: Leverages Amazon Route53 for efficient DNS management and traffic switching.
- **Rapid Rollback**: Allows instant reversion to the previous environment if issues arise.
- **Database Decoupling**: Requires a separate, shared database to prevent data inconsistencies between environments.

## AWS Lambda Blue/Green Deployments

#### Key Concepts

- **$LATEST**: Refers to the most recent, editable version of a Lambda function.
- **Version**: An immutable snapshot of a Lambda function at a specific point.
- **Lambda Alias**: A pointer to a specific function version, enabling blue/green deployments by shifting traffic via alias updates.

### AWS Lambda Alias Traffic Shifting

AWS Lambda aliases support gradual traffic shifting between versions, allowing controlled rollouts. This enables production testing with reduced risk, as traffic can transition incrementally from the old version (blue) to the new version (green).

### Blue/Green with Route53

Route53’s weighted routing facilitates blue/green deployments by incrementally shifting traffic between environments. This provides a safe, reversible deployment strategy with fine-grained control.

### Using AWS OpsWorks for Blue/Green Deployments

AWS OpsWorks manages blue/green deployments through stack cloning. A new stack (green) is created with the updated application, and Route53 redirects traffic to it once validated, ensuring minimal disruption.

## AWS CodeCommit

CodeCommit is a fully managed, secure source control service hosting Git-based repositories.

### Key Features

- **Private Git Repositories**: Secure, scalable hosting for Git repositories.
- **Unlimited Repositories**: No restrictions on repository size or count.
- **High Availability**: Designed for durability and uptime.
- **Integration**: Seamlessly connects with CI/CD tools like Jenkins, AWS CodeBuild, and CodePipeline.
- **Security**: Provides robust encryption and access control.

### CodeCommit Security

- **Authentication**: Supports SSH keys and HTTPS Git credentials.
- **Authorization**: Managed through IAM policies for granular access control.
- **Encryption**: Data is encrypted in transit (TLS) and at rest (AWS KMS).
- **Cross-Account Access**: Integrates with Amazon EventBridge for repository replication across accounts.

#### IAM Policies for CodeCommit

- **AWSCodeCommitFullAccess**: Grants unrestricted access to CodeCommit repositories.
- **AWSCodeCommitPowerUser**: Permits code modifications without repository management rights.
- **AWSCodeCommitReadOnly**: Provides read-only access to repositories.

### CodeBuild

CodeBuild is a fully managed build service that compiles code, runs tests, and generates deployable artifacts.

#### Key Concepts

- **buildspec.yaml**: A configuration file defining build commands, phases, and settings.
- **Environment Variables**: Customizes the build environment (e.g., runtime versions, secrets).
- **VPC Support**: Enables access to VPC resources like databases or private endpoints.
- **Security**: Uses IAM service roles to securely interact with AWS services.

### CodeDeploy

CodeDeploy automates application deployments across compute platforms, including Amazon EC2, AWS Fargate, AWS Lambda, and on-premises servers.

#### Deployment Configurations

- **In-Place Deployment**: Updates applications on existing instances, potentially causing brief downtime.
- **Blue/Green Deployment**: Deploys a new version alongside the old one, switching traffic after validation.

#### Lifecycle Hooks

- **ApplicationStop**: Runs before downloading the new revision, stopping the current application.
- **DownloadBundle**: Copies the revision to a temporary location.
- **BeforeInstall**: Executes pre-installation tasks (e.g., backups).
- **Install**: Moves the revision to its final location.
- **AfterInstall**: Handles post-installation tasks (e.g., configuration, permissions).
- **ApplicationStart**: Restarts the application.
- **ValidateService**: Verifies successful deployment.
- **BeforeBlockTraffic**: Runs tasks before deregistering instances from a load balancer.
- **BlockTraffic**: Prevents traffic from reaching instances being updated.
- **AfterBlockTraffic**: Executes tasks post-deregistration.
- **BeforeAllowTraffic**: Prepares instances before re-registering with a load balancer.
- **AllowTraffic**: Routes traffic to updated instances.
- **AfterAllowTraffic**: Performs final tasks after traffic resumption.

### CodePipeline

CodePipeline automates the end-to-end release process—build, test, and deploy—triggered by code changes, based on a user-defined workflow.

#### Integration

- **CloudFormation**: Supports infrastructure-as-code updates alongside application deployments.
- **Multi-Region Deployments**: Enables coordinated releases across AWS regions.
- **Artifact Management**: Stores build artifacts in Amazon S3 for accessibility and versioning.

## DynamoDB

### Basic Concepts

- **Base Table**: The primary table storing all data.
- **Secondary Index**: Enhances query flexibility by indexing specific attributes.

### Projection in Secondary Indexes

A projection defines which attributes from the base table are copied into a secondary index. For example, a base table with `UserId` and `GameTitle` can have a secondary index for `TopScore`.

### Types of Projection

- **KEYS_ONLY**: Includes only the partition key and sort key.
- **INCLUDE**: Adds specified non-key attributes alongside keys.
- **ALL**: Copies all attributes from the base table into the index.

## Elastic Beanstalk Deployment Policies

- **All at Once**: Updates all instances simultaneously, causing downtime.
- **Rolling Deployment**: Updates instances in batches, reducing downtime but not eliminating it.
- **Rolling with Additional Batch**: Adds temporary instances during updates to maintain capacity.
- **Immutable Deployment**: Launches new instances with the update, swapping them in after validation (zero downtime).
- **Traffic Splitting Deployment**: Directs a percentage of traffic to new instances for testing, minimizing disruption.
- **Blue/Green**: Deploys a new environment alongside the old, switching traffic once ready (zero downtime).

### Additional Tools

- **CodeGuru**: Provides AI-driven code reviews and performance recommendations.
- **AWS Amplify**: Simplifies full-stack web and mobile app development with integrated CI/CD.
